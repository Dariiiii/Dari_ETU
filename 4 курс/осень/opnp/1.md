# Макет UI
![ui_mockup](https://github.com/moevm/nosql2h24-loans/blob/main/assets/ui_mockup.png)

# Сценарии использования

## Сценарий использования: Вход на страницу
### Цель:
Войти в аккаунт.
### Действующие лица:
Клиент, сотрудник банка
### Основной сценарий:
1. Пользователь авторизуется (страница 2): заполняет поле "Email" и "Пароль" и нажимает кнопку "Вход".
2. Переходит на главную страницу (страница 3).
### Альтернативный сценарий:
1. Неверный логин или пароль - система выводит сообщение об ошибке и просит пользователя ввести данные еще раз.
2. Если клиента нет в базе, то он нажимает кнопку регистрация (страница 1).
### Результат сценария
Пользователь авторизован.

## Сценарий использования: Регистрация
### Цель:
Зарегистрироваться.
### Действующие лица:
Клиент, сотрудник банка
### Основной сценарий:
1. Пользователь попадает на страницу авторизации (страница 2), затем нажимает кнопку "Регистрация", после чего переходит на страницу регистрации (страница 1).
2. Заполняет следующие поля:
    - Имя
    - Фамилия
    - Email
    - Пароль
    - Подтверждение пароля
3. Нажимает кнопку "Регистрация".
### Альтернативный сценарий:
1. Если данная почта уже зарегистрирована - система выводит сообщение об ошибке и просит пользователя ввести данные еще раз.
2. Если пароли не совпадают - система выводит сообщение об ошибке и просит пользователя ввести данные еще раз.
### Результат сценария
Пользователь зарегистрирован.

## Сценарий использования: Профиль сотрудника банка
### Цель:
Получить и заполнить основную информацию о сотруднике банка.
### Действующие лица:
Сотрудник банка
### Основной сценарий:
1. Сотрудник банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 8).
3. Переходит по нажатию кнопки "Профиль" на панели быстрого доступа к странице профиля сотрудника (страница 9)
4. На странице профиля (страница 9) отображается следующая информация о сотруднике банка:
    - ФИО
    - Пол
    - Возраст
    - Должность
    - Контактный телефон
    - Электронная почта
    - Пароль
5. Напротив каждого поля (кроме поля "Должность") есть кнопка "Изменить" для изменения данных профиля.
### Альтернативный сценарий:
1. В поля введены некорректные данные - система выводит сообщение о некорректности заполнения поля и просит пользователя ввести данные еще раз.
2. Не все необходимые поля заполнены - система выводит сообщение о том, какие поля необходимо заполнить (являются обязательными к заполнению).
### Результат сценария:
Получен и заполнен профиль сотрудника с основной информацией о нем.


## Сценарий использования: Просмотр заявок на кредиты
### Цель:
Просмотреть все заявки клиентов банка на кредиты и одобрить/отклонить их.
### Действующие лица:
Сотрудник банка
### Основной сценарий:
1. Сотрудник банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 8).
3. Переходит по гиперссылке на главной странице или по нажатию кнопки "Заявки" на панели быстрого доступа к странице с заявками клиентов (страница 11).
4. На странице заявок клиентов сотрудник может просмотреть все заявки по кредитам (ФИО клиента, дата заявки, сумма кредита, срок, ставка, название кредита, кредитный рейтинг), а также перейти на страницу с его кредитной историей (страница 10)
5. Используя кнопки "Галочка" или "Крестик", расположенных справа от заявки, сотрудник может принять заявку/отказать в заявке соответственно.
6. Сотрудник вводит в строке поиска ФИО клиента, нажимает кнопку "Поиск", после чего таблица обновляется с заявками интересующего клиента.
7. Используя кнопку "Сортировка", можно отсортировать заявки по:
    - Дате отправки заявки
    - Кредитному рейтингу
    - ФИО
    - Сумме кредита
    - Сроку кредита
    - Названию кредита
### Альтернативный сценарий:
1. Заявка была обработана другим сотрудником банка в момент просмотра - при попытке взаимодействовать с обработанной заявкой система оповещает сотрудника о том, что заявка уже обработана другим сотрудником.
### Результат сценария:
- Обработанная заявка исчезает из списка заявок на странице сотрудника банка (страница 11). 
- Клиент получает уведомление об обработанной заявке и результату по ее одобрению на странице заявок (страница 7).
- В кредитной истории клиента появляется запись со статусом "Открыт" в случае одобрения кредита (страница 10).


## Сценарий использования: Просмотр кредитной истории клиента
### Цель:
Изучить информацию обо всех открытых и закрытых кредитах конкретного клиента.
### Действующие лица:
Сотрудник банка
### Основной сценарий:
1. Сотрудник банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 8).
3. Переходит по гиперссылке на главной странице или по нажатию значка "Заявки" на панели быстрого доступа к странице с заявками клиентов (страница 11).
4. Переходит нажатием ФИО интересующего клиента по конкретной заявке на кредитную историю (страница 10).
5. На странице кредитной истории в формате таблицы отображены все открытые и закрытые кредиты банка, в том числе следующая информация о них:
    - Название кредита
    - Дата открытия кредита
    - Сумма кредита
    - Срок кредита
    - Ставка кредита
    - Ежемесячный платеж
    - Задолженность
    - Количество просроченных платежей
    - Статус кредита: открыт/закрыт/просрочен

    Также на странице (10) отображается сверху контактная информация клиента.
6. Используя кнопку "Сортировка", можно отсортировать историю по:
    - Названию кредита
    - Дате открытия кредита
    - Сумме кредита
    - Сроку кредита
    - Ставке кредита
    - Ежемесячному платежу
    - Задолженности
    - Количеству просроченных платежей
    - Статусу кредита: открыт/закрыт/просрочен
### Альтернативный сценарий:
1. Заявка клиента была одобрена другим сотрудником банка в момент просмотра - при обновлении страницы появляется соответсвующая запись в кредитной истории.
### Результат сценария:
Сотрудник банка изучил кредитную историю клиента.


## Сценарий использования: История взаимодействия сотрудника с клиентом
### Цель:
Изучить историю взаимодействия сотрудника с клиентами банка.
### Действующие лица:
Сотрудник банка
### Основной сценарий:
1. Сотрудник банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 8).
3. Переходит на страницу (страница 13) истории взаимодействия по нажатию значка "История" на панели быстрого доступа.
4. На странице отображены все обработанные сотрудником заявки клиентов. Информация об истории хранится в таблице со следующими полями:
    - Дата заявки
    - Дата обработки
    - ФИО
    - Сумма кредита
    - Ставка кредита
    - Срок кредита
    - Название кредита
    - Кредитный рейтинг
    - Решение по кредиту (одобрено/отказано)
5. Используя кнопку "Сортировка", можно отсортировать историю по:
    - Дате заявки
    - Дате обработки
    - ФИО
    - Сумме кредита
    - Ставке кредита
    - Сроку кредита
    - Названию кредита
    - Кредитному рейтинг
    - Решению по кредиту (одобрено/отказано)
### Результат сценария
Сотрудник имеет доступ к истории обработок заявок.


## Сценарий использования: Статистика банка
### Цель:
Получение статистики банка по пользователям и типам кредита.
### Действующие лица:
Сотрудник банка
### Основной сценарий:
1. Сотрудник банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 8).
3. Переходит по нажатию кнопки "Статистика" на панели быстрого доступа к странице статистики банка (страница 12).
4. На странице статистики (страница 12) сотрудник выбирает параметр, по которому будет строиться статистика. Выбор параметров осуществляется по трем ключам:
    - Пользователь/сотрудник: работа со статистикой пользователей банка или его сотрудников.
    - Пользователь: есть возможность выбрать всех пользователей банка или одного конкретного.
    - Тип кредита: есть возможность выбрать все типы кредитов банка или один конкретный.

    Нажав на кнопку "Фильтр", имеется возможность выбрать следующие данные для построения графиков:
    - Дата открытия кредита
    - Сумма кредита
    - Срок кредита
    - Ежемесячный платеж
    - Статус кредита (Открыт/закрыт/просрочен)
5. Используя кнопку "Построить", строится в области для графика статистика по выбранным параметрам и данным.
### Альтернативный сценарий:
1. Данные по выбранным параметрам статистики отсутствуют - выводится сообщение об отсутствии данных в БД.
### Результат сценария:
Выводится статистика по кредитам банка по выбранным параметрам и данным для построения.

## Сценарий использования: Массовый импорт/экспорт данных
### Цель:
Загрузка и выгрузка данных банка по клиентам и их кредитам.
### Действующие лица:
Сотрудник банка
### Основной сценарий:
1. Сотрудник банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 8).
3. Переходит по нажатию кнопки "Статистика" на панели быстрого доступа к странице статистики банка (страница 12).
4. На странице статистики (страница 12) имеется две кнопки для импорта/экспорта данных: "Импортировать" и "Экспортировать".   
    При нажатии на кнопку "Импортировать":
    - Появляется окно с выбором файла для загрузки в БД в поддерживаемом формате (.csv, .json).
    - Выбранный файл загружается в БД.

    При нажатии на кнопку "Экспортировать":
    - Выгружаются данные с БД со сведениями об клиентах и их кредитах.
### Альтернативный сценарий:
1. Выбран неподдерживаемый формат файла для импорта - выводится сообщение об ошибке и информация об поддерживаемых форматах файла.
### Результат сценария:
Загружены/выгружены данные банка по клиентам и их кредитам.

## Сценарий использования: Профиль клиента
### Цель:
Получить и заполнить основную информацию о клиенте банка.
### Действующие лица:
Клиент банка
### Основной сценарий:
1. Клиент банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 3).
3. Переходит по нажатию кнопки "Профиль" на панели быстрого доступа к странице профиля клиента (страница 4)
4. На странице профиля (страница 4) отображается следующая информация о клиенте:
    - ФИО
    - Пол
    - Возраст
    - Доход
    - Статус самозанятости
    - Место работы
    - Семейное положение
    - Место работы супруга
    - Доход супруга (если есть)
    - Наличие детей
    - Имущество в собственности
    - Контактный телефон
    - Электронная почта
    - Пароль
5. Напротив каждого поля есть кнопка "Изменить" для изменения данных профиля.
### Альтернативный сценарий:
1. В поля введены некорректные данные - система выводит сообщение о некорректности заполнения поля и просит пользователя ввести данные еще раз.
2. Не все необходимые поля заполнены - система выводит сообщение о том, какие поля необходимо заполнить (являются обязательными к заполнению).
### Результат сценария:
Получен и заполнен профиль клиента банка.

## Сценарий использования: Просмотр открытых кредитов
### Цель:
Изучить информацию обо всех открытых кредитах клиента.
### Действующие лица:
Клиент банка
### Основной сценарий:
1. Клиент банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 3).
3. Переходит по нажатию кнопки "Кредиты" на панели быстрого доступа к странице с информацией обо всех открытых кредитах пользователя (страница 5).
4. На странице с кредитами (страница 5) отображается список открытых кредитов клиента, о каждом из которых присутствует следующая информация:
    - Название кредита
    - Дата открытия
    - Срок 
    - Сумма
    - Ставка
    - Ежемесячный платеж
    - Дата следующего платежа
    - Суммарная задолженность
    - Количество просроченных платежей
5. Используя кнопку "Сортировка", можно отсортировать кредиты по:
    - Названию кредита
    - Дате открытия
    - Сроку 
    - Сумме
    - Ставке
    - Ежемесячному платежу
    - Дате следующего платежа
    - Суммарной задолженности
    - Количеству просроченных платежей
6. Используя объект combobox "Поиск", можно найти кредит по заданному параметру. Если выбран параметр "Дата открытия", то для ввода даты будет доступно текстовое поле, куда надо будет указать дату в формате ДД.ММ.ГГГГ, при выборе остальных параметров для ввода будет доступно обычное текстовое поле.
### Альтернативный сценарий:
Пользователь ввел некорректные данные в поле "Поиск" или не выбрал параметр (например, ввел буквы в поле, где надо указать сумму кредита, ежемесячный платеж и т.д.) - система выдает сообщение об ошибке и просит пользователя ввести данные еще раз.
### Результат сценария:
Клиент банка ознакомился со своей кредитной историей.

## Сценарий использования: Оформление кредита
### Цель:
Оформить кредит для клиента банка.
### Действующие лица:
Клиент банка
### Основной сценарий:
1. Клиент банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 3).
3. На главной странице клиент находит среди доступных кредитов интересующий вариант, затем нажимает на этот вариант и переходит к странице оформления кредита (страница 6).
4. На странице оформления кредита клиент заполняет следующие поля:
    - Сумма кредита
    - Срок кредита
    - Созаемщик (опционально)
    - Залог (опционально)
5. После выбора суммы и срока кредита клиент нажимает на кнопку "Оформить", после чего отправляется заявка на кредит.
### Альтернативный сценарий:
1. В случае, если профиль клиента заполнен не полностью (отсутствует контактный телефон, почта и т.д.) - система выдает сообщение об этом и просит пользователя ввести данные в профиль.
2. В случае, если клиент указал данные в поле "Созаемщик" или "Залог" - пользователю предоставляются улучшенные условия кредита (уменьшение процента ставки).
### Результат сценария:
Клиент банка отправил заявку на оформление кредита.

## Сценарий использования: Заявки на оформление кредита клиента
### Цель:
Просмотр заявок на оформление кредита клиента.
### Действующие лица:
Клиент банка
### Основной сценарий:
1. Клиент банка авторизуется (страница 2) или регистрируется (страница 1).
2. Переходит на главную страницу (страница 3).
3. Переходит по нажатию кнопки "Заявки" на панели быстрого доступа к странице с информацией обо всех заявках на оформление кредитов пользователя (страница 7).
4. На странице заявок представлен список активных заявок клиента, о каждой из которых присутствует следующая информация:
    - Дата отправки заявки
    - Статус заявки (в обработке / одобрено / отклонено)
    - Название кредита
    - Срок кредита
    - Сумма кредита
    - Ставка кредита
5. Используя кнопку "Сортировка", можно отсортировать заявки по:
    - Дате отправки заявки
    - Статусу заявки (в обработке / одобрено / отклонено)
    - Названию кредита
    - Сроку кредита
    - Сумме кредита
    - Ставке кредита
6. Используя объект combobox "Поиск", можно найти заявку по заданному параметру. Если выбран параметр "Дата открытия", то для ввода даты будет доступно текстовое поле, куда надо будет указать дату в формате ДД.ММ.ГГГГ, при выборе остальных параметров для ввода будет доступно обычное текстовое поле.
### Альтернативный сценарий:
Пользователь ввел некорректные данные в поле "Поиск" или не выбрал параметр (например, ввел буквы в поле, где надо указать сумму кредита, ежемесячный платеж и т.д.) - система выдает сообщение об ошибке и просит пользователя ввести данные еще раз.
### Результат сценария:
Клиент банка проверил заявки на оформление кредита.